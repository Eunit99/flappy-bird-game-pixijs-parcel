var t,e=Math.min(Math.min(window.innerHeight,window.innerWidth),512),i=["./../src/assets/images/frame-1.png","./../src/assets/images/frame-2.png","./../src/assets/images/frame-3.png","./../src/assets/images/frame-4.png"],s=[e+50,e+250,e+480],n=function(){function t(t,s,n){var r=this;this.tubeList=s,this.onCollision=n,this.speedY=0,this.sprite=new PIXI.Sprite,this.textureCounter=0,this.updateTexture=function(){r.isDied||(r.sprite.texture=PIXI.loader.resources[i[r.textureCounter++]].texture,r.textureCounter!==i.length||(r.textureCounter=0))},this.updateSprite=function(){r.speedY+=.14,r.sprite.y+=r.speedY,r.sprite.rotation=Math.atan(r.speedY/40);var t=!1,i=r.sprite,s=i.x,n=i.y,h=i.width,a=i.height;r.tubeList.forEach(function(e){e.checkCollision(s-h/2,n-a/2,h,a)&&(t=!0)}),(n<-a/2||n>e+a/2)&&(t=!0),t&&(r.onCollision(),r.isDied=!0)},t.addChild(this.sprite),this.sprite.anchor.set(.5,.5),this.updateTexture(),this.sprite.scale.x=.06,this.sprite.scale.y=.06,this.reset(),document.addEventListener("keydown",function(t){32==t.keyCode&&r.addSpeed(-9.8/3)}),t.on("pointerdown",function(){return r.addSpeed(-9.8/3)}),setInterval(this.updateTexture,200)}return t.prototype.addSpeed=function(t){this.speedY+=t,this.speedY=Math.max(-9.8,this.speedY)},t.prototype.reset=function(){this.sprite.x=e/6,this.sprite.y=e/2.5,this.speedY=0,this.isDied=!1},t}(),r=function(){function t(t,e){this.innerDistance=80,this.tubeWidth=20,this.sprite=new PIXI.Graphics,t.addChild(this.sprite),this.reset(e)}return t.prototype.reset=function(t){void 0===t&&(t=e+20),this.x=t;var i=Math.random()*(e-120-this.innerDistance);this.y=60+i},t.prototype.checkCollision=function(t,e,i,s){return!(t+i<this.x)&&!(this.x+this.tubeWidth<t)&&!(this.y<e)||!(t+i<this.x)&&!(this.x+this.tubeWidth<t)&&!(e+s<this.y+this.innerDistance)},t.prototype.update=function(){this.x-=40/60,this.x<-this.tubeWidth&&this.reset(),this.sprite.clear(),this.sprite.beginFill(16777215,1);var t=this.x,i=this.y,s=this.tubeWidth,n=this.innerDistance;this.sprite.drawRect(t,0,s,i),this.sprite.drawRect(t,i+n,s,e),this.sprite.endFill()},t}(),h=PIXI.autoDetectRenderer(e,e,{backgroundColor:12698308});document.body.appendChild(h.view);var a=new PIXI.Container;a.interactive=!0,a.hitArea=new PIXI.Rectangle(0,0,1e3,1e3),h.render(a);var o=s.map(function(t){return new r(a,t)});PIXI.loader.add(i).load(function(){t=new n(a,o,function(){p=!0,d.classList.remove("hide")}),requestAnimationFrame(c)});var d=document.querySelector("#start"),u=!1,p=!1;function c(){u&&(t.updateSprite(),p||o.forEach(function(t){return t.update()})),h.render(a),requestAnimationFrame(c)}d.addEventListener("click",function(){u=!0,d.innerHTML="Retry",p&&(p=!1,o.forEach(function(t,e){return t.reset(s[e])}),t.reset()),d.classList.add("hide")});
//# sourceMappingURL=index.d141977f.js.map
